## Тесты ClickHouse vs MongoDB

## Запуск тестов

### ClickHouse
1. Перейти в директорию ```$ cd ./clickhouse```
2. Запустить контейнер командой  ```$ docker-compose up -d```
3. Последовательно выполнить скрипты в файле ```sprint_9/test_ch.ipynb```

### MongoDB
1. Перейти в директорию ```$ cd ./mongo```
2. Запустить контейнер командой  ```$ docker-compose up -d```
3. Выполнить скрипт в консоле ```$ sh mongo_config.sh```
4. Последовательно выполнить скрипты в файле ```sprint_9/test_mongo.ipynb```


## Исследование
- Написали класс BaseBenchmark который генерирует тестовые данные и запускает тестирование хранилища
- Написали драверы для каждого хранилища
- Измерили скорость добавления и чтения данных для каждого хранилища
- - Протестировали чтение уже загруженных данных (количество лайков или дизлайков у определённого фильма, средняя пользовательская оценка фильма)
- - Протестировали чтение данных, поступающих в реальном времени (добавление лайка или дизлайка и время появления лайка или дизлайка в сценариях, описанных выше)

Подробные отчеты для каждого хранилища находятся в директорях ```./clickhouse``` и ```./mongo```

## Вывод
Для реализации задач текущего спринта, скорость записи не так важна, как скорость чтения. По результатам тестирования на чтение данных, из базы содержащей более 1_000_000 записей, победу одержал MongoDB с результатом поиска в 0.004 сек. против 0.552 сек. у ClickHouse.
Внутри команды было решено реализовать работу с событиями ```bookmarks```, ```likes``` и ```reviews``` с использованием асинхронного клиента для MongoDB