
1. Cобытия могут быть разными, надо поменять модель (сделать ее вложенной)

пример volume:
{
    'event_type': 'View',
    'event': {
        'user_id': '6c162475-c7ed-4461-9184-001ef3d9f26e',
        'movie_id': '26e83050-29ef-4163-a99d-b546cac208f8',
        'event': 15,
        'event_time': 2022-29-01 19:27:51.700460,
    },
}

2. event_type == имя топика == имя БД в ClickHouse

3. Надо сделать 2 ручки:

    - http://fastapi:8000/ugc_api/v1/event/produce
    - Отправляет один запрос (автоматически генерирует сообщеие о событии)

    - http://fastapi:8000/ugc_api/v1/event/batch-produce
    - отправляет фейковую пачку данных (понадобится для тестирования)

4. Надо связать сервис с Auth (middleware)

    - ручка для одного запроса permission = User (зарегестрированный)

    - ручка для одного запроса permission = Moderator (модератор)

